var mouse_is_inside=false;var cwindow_is_modeless=false;var cWindowHelper={contentOuterHeight:0,contentWrapHeight:0,contentHeight:0,intervalHandle:0,rotationHandle:0,save:function(){var b=joms.jQuery("#cWindow");if(b.length>0){this.contentOuterHeight=b.find("#cWindowContentOuter").height();this.contentWrapHeight=b.find("#cWindowContentWrap").height();this.contentHeight=b.find("#cWindowContent").outerHeight()}},setMark:function(){if(this.getMark()==false){joms.jQuery("#cWindow").find("#cWindowContent").append('<div id="oldcontentmark"></div>')}},getMark:function(){var b=joms.jQuery("#cWindow");if(b.length>0){return(b.find("#cWindowContent").find("#oldcontentmark").length>0)?true:false}else{return null}},isMobile:function(){a=navigator.userAgent||navigator.vendor||window.opera;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))?true:false},start:function(){if(this.getMark()===null){return}this.stop()},stop:function(){if(this.intervalHandle>0){window.clearInterval(this.intervalHandle)}},startRotationHandle:function(){if(this.getMark()===null){return}if(this.isMobile()===false){return}this.stopRotationHandle();this.rotationHandle=window.setInterval(function(){cWindowDeviceRotation()},500)},stopRotationHandle:function(){if(this.rotationHandle>0){window.clearInterval(this.rotationHandle)}}};function cWindowShow(windowCall,winTitle,contentWidth,contentHeight,winType){if(/^.+\"\s*admin\s*,.+\;$/.test(windowCall)){cAdminWindowShow(windowCall,winTitle,contentWidth,contentHeight,winType);return}joms.jQuery("body").unbind("mouseup");joms.jQuery("#cWindow").remove();var cWindowHTML=decodeURIComponent("%3Cdiv%20id%3D%22cWindow%22%20class%3D%22%7BcWindoClass%7D%22%3E%0A%09%3Cdiv%20id%3D%22cwin_tl%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20id%3D%22cwin_tm%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20id%3D%22cwin_tr%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20style%3D%22clear%3A%20both%3B%22%3E%3C%2Fdiv%3E%0A%0A%09%3Cdiv%20id%3D%22cwin_ml%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20id%3D%22cWindowContentOuter%22%3E%0A%0A%09%09%3Cdiv%20id%3D%22cWindowContentTop%22%3E%0A%09%09%09%3Ca%20href%3D%22javascript%3Avoid(0)%3B%22%20onclick%3D%22cWindowHide()%3B%22%20id%3D%22cwin_close_btn%22%3E%3C%2Fa%3E%0A%09%09%09%3Cdiv%20id%3D%22cwin_logo%22%3E%3C%2Fdiv%3E%0A%09%09%09%3Cdiv%20class%3D%22clr%22%3E%3C%2Fdiv%3E%0A%09%09%3C%2Fdiv%3E%0A%0A%09%09%3Cdiv%20id%3D%22cWindowContentWrap%22%3E%0A%09%09%09%3Cdiv%20id%3D%22cWindowContent%22%3E%3C%2Fdiv%3E%0A%09%09%3C%2Fdiv%3E%0A%0A%09%3C%2Fdiv%3E%0A%09%3Cdiv%20id%3D%22cwin_mr%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20style%3D%22clear%3A%20both%3B%22%3E%3C%2Fdiv%3E%0A%0A%09%3Cdiv%20id%3D%22cwin_bl%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20id%3D%22cwin_bm%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20id%3D%22cwin_br%22%3E%3C%2Fdiv%3E%0A%09%3Cdiv%20style%3D%22clear%3A%20both%3B%22%3E%3C%2Fdiv%3E%0A%3C%2Fdiv%3E");if(cwindow_is_modeless){cWindowHTML=cWindowHTML.replace("{cWindoClass}","dialog modeless")}else{cWindowHTML=cWindowHTML.replace("{cWindoClass}","dialog")}cwindow_is_modeless=false;var cWindow=joms.jQuery(cWindowHTML);var cWindowSize;var cBrowserWidth=joms.jQuery(window).width();if(cBrowserWidth<="480"){cWindowSize={contentWrapHeight:function(){return +contentHeight},contentOuterWidth:function(){return +cBrowserWidth-20},contentOuterHeight:function(){return +contentHeight+40},width:function(){return this.contentOuterWidth()-50},height:function(){return this.contentOuterHeight()+2},left:function(){return(joms.jQuery(window).width()-this.width())/2},top:function(){return joms.jQuery(document).scrollTop()+((joms.jQuery(window).height()-this.height())/2)},zIndex:function(){return cGetZIndexMax()+1}}}else{cWindowSize={contentWrapHeight:function(){return +contentHeight},contentOuterWidth:function(){return +contentWidth},contentOuterHeight:function(){return +contentHeight+40},width:function(){return this.contentOuterWidth()+2},height:function(){return this.contentOuterHeight()+2},left:function(){return(joms.jQuery(window).width()-this.width())/2},top:function(){return joms.jQuery(document).scrollTop()+((joms.jQuery(window).height()-this.height())/2)},zIndex:function(){return cGetZIndexMax()+1}}}cWindow.find("#cwin_logo").html(winTitle);cWindow.find("#cWindowContentWrap").css({height:cWindowSize.contentWrapHeight()});cWindow.find("#cWindowContentOuter, #cwin_tm, #cwin_bm").css({width:cWindowSize.contentOuterWidth()});cWindow.find("#cWindowContentOuter, #cwin_ml, #cwin_mr").css({height:cWindowSize.contentOuterHeight()+40});cWindow.attr({"class":winType}).css({width:cWindowSize.width(),height:cWindowSize.height(),top:cWindowSize.top(),left:cWindowSize.left(),zIndex:cWindowSize.zIndex()}).prependTo("body");jax.loadingFunction=function(){joms.jQuery("#cWindowContentWrap").addClass("loading")};jax.doneLoadingFunction=function(){joms.jQuery("#cWindowContentWrap").removeClass("loading").css("overflow","auto")};if(windowCall!=undefined&&typeof(windowCall)=="string"){eval(windowCall)}if(typeof(windowCall)=="function"){windowCall()}if(joms.jQuery.browser.msie&&joms.jQuery.browser.version.substr(0,1)<7&&typeof(jomsIE6)!="undefined"&&jomsIE6==true){joms.jQuery("#cwin_tm, #cwin_bm, #cwin_ml, #cwin_mr").each(function(){joms.jQuery(this)[0].filters(0).sizingMethod="crop"})}joms.jQuery("#community-wrap iframe").css("visibility","hidden");cWindowHelper.save();cWindowHelper.start();cWindowHelper.startRotationHandle()}function cMiniWindowShow(d,e,b,f,c){cwindow_is_modeless=true;cWindowShow(d,e,b,f,c);joms.jQuery("#cWindow").hover(function(){mouse_is_inside=true},function(){mouse_is_inside=false});joms.jQuery("body").mouseup(function(g){if(joms.jQuery.browser.msie){if(g.target.tagName=="SELECT"||g.target.tagName=="OPTION"){return false}}if(!mouse_is_inside){cMiniWindowHide()}})}function cAdminWindowShow(windowCall,winTitle,contentWidth,contentHeight,winType){joms.jQuery("body").unbind("mouseup");joms.jQuery("#cWindow").remove();var cWindowHTML=decodeURIComponent("%3Cdiv%20id%3D%22cWindow%22%20class%3D%22modal%20%7BcWindoClass%7D%22%3E%20%3Cdiv%20class%3D%22modal-header%20cWindowContentTop%22%3E%20%3Ca%20href%3D%22javascript%3Avoid(0)%3B%22%20onclick%3D%22cWindowHide()%3B%22%20class%3D%22close%22%3E%C3%97%3C%2Fa%3E%20%3Ch3%20id%3D%22cwin_logo%22%3E%3C%2Fh3%3E%20%3C%2Fdiv%3E%20%3Cdiv%20id%3D%22cWindowContentOuter%22%3E%20%3Cdiv%20class%3D%22modal-body%22%3E%20%3Cdiv%20id%3D%22cWindowContentWrap%22%3E%20%3Cdiv%20id%3D%22cWindowContent%22%3E%3C%2Fdiv%3E%20%3C%2Fdiv%3E%20%3C%2Fdiv%3E%20%3C%2Fdiv%3E%20%3C%2Fdiv%3E");if(cwindow_is_modeless){cWindowHTML=cWindowHTML.replace("{cWindoClass}","dialog modeless")}else{cWindowHTML=cWindowHTML.replace("{cWindoClass}","dialog")}cwindow_is_modeless=false;var cWindow=joms.jQuery(cWindowHTML);var cWindowSize;cWindowSize={contentWrapHeight:function(){return +contentHeight},contentOuterHeight:function(){return +contentHeight+55},height:function(){return this.contentOuterHeight()+2},};cWindow.find("#cwin_logo").html(winTitle);cWindow.find("#cWindowContentOuter, #cwin_ml, #cwin_mr").css({});cWindow.attr({"class":winType}).hide().prependTo("#js-cpanel").fadeIn();jax.loadingFunction=function(){joms.jQuery("#cWindowContentWrap").addClass("loading")};jax.doneLoadingFunction=function(){joms.jQuery("#cWindowContentWrap").removeClass("loading").css("overflow","auto")};if(windowCall!=undefined&&typeof(windowCall)=="string"){eval(windowCall)}if(typeof(windowCall)=="function"){windowCall()}joms.jQuery("#community-wrap iframe").css("visibility","hidden");cWindowHelper.save();cWindowHelper.start()}function cWindowHide(){var b=joms.jQuery("#cWindow");b.find("#cWindowAction").add("<div>").animate({bottom:"-30px"},"fast",function(){b.fadeOut("fast",function(){b.find("iframe").prop("src","");b.remove();joms.jQuery("#community-wrap iframe").css("visibility","visible");cWindowHelper.stop();cWindowHelper.startRotationHandle()})})}function cMiniWindowHide(){var b=joms.jQuery("#cWindow");b.remove();joms.jQuery("#community-wrap iframe").css("visibility","visible")}function cWindowAddContent(html,actions,cmd){var cWindow=joms.jQuery("#cWindow");cWindow.find("#cWindowContent").html(html);if(actions){joms.jQuery('<div id="cWindowAction">').html(actions).css("bottom","-30px").appendTo("#cWindowContentOuter").animate({bottom:"0px"})}if(cmd!=undefined&&cmd!=""){eval(cmd)}}function cWindowResize(e){var k=joms.jQuery(window).height()*0.85;var n=joms.jQuery(window).height()*0.13;if(e>k){e=k}if(e<n){if(cWindowHelper.contentOuterHeight<k){e=cWindowHelper.contentOuterHeight}else{e=k}}var g=joms.jQuery("#cWindow");if(g.length<=0){return}var c=g.find("#cWindowAction");var d=(c.length>0)?c.height():0;var j=g.find("#cWindowContentTop");var m=(j.length>0)?j.height():0;var l=cWindowHelper.contentWrapHeight;var i=cWindowHelper.contentOuterHeight;var f=parseInt(e);var b=f+d+m;g.find("#cWindowContentWrap").animate({height:"+="+(f-l)+"px"});g.find("#cWindowContentOuter, #cwin_ml, #cwin_mr").animate({height:"+="+(b-i)+"px"});g.animate({height:"+="+(b-i)+"px",top:"-="+(b-i)/2+"px"},function(){cWindowHelper.save()})}function cWindowActions(b){joms.jQuery("#cWindowAction").remove();if(b){joms.jQuery('<div id="cWindowAction" class="modal-footer">').html(b).css("bottom","-30px").appendTo("#cWindowContentOuter").animate({bottom:"0px"})}jax.loadingFunction=function(){joms.jQuery("#cWindowAction").addClass("loading");joms.jQuery("#cWindowContent").find("input, textarea, button").attr("disabled",true)};jax.doneLoadingFunction=function(){joms.jQuery("#cWindowAction").removeClass("loading");joms.jQuery("#cWindowContent").find("input, textarea, button").attr("disabled",false)};cWindowHelper.save();cWindowHelper.start()}function cGetZIndexMax(){var e=document.getElementsByTagName?document.getElementsByTagName("*"):document.all;var d=0;for(var c=0;c<e.length;c++){var g=e[c];var b=null;if(g.currentStyle){b=g.currentStyle}else{if(document.defaultView&&document.defaultView.getComputedStyle){b=document.defaultView.getComputedStyle(g,"")}}var f;if(b){f=Number(b.zIndex)}else{f=Number(g.style.zIndex)}if(!isNaN(f)){d=Math.max(d,f)}}return d}function cWindowAutoResize(){if(cWindowHelper.getMark()===false){cWindowHelper.setMark();var b=joms.jQuery("#cWindow #cWindowContent").outerHeight();cWindowHelper.stop();cWindowResize(b)}}function cWindowDeviceRotation(){var e=joms.jQuery("#cWindow");if(e.length>0){var c=joms.jQuery(window).width();var d=Math.round(c*0.85);var b=(c-d)/2-parseInt(e.css("margin-left"));e.css("left",b+"px");e.find("#cWindowContentOuter").css("width",d+"px");e.css("width",d+"px")}};